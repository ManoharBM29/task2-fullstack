{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ELITEBOOK 840 G6\\\\Task2-App\\\\frontend\\\\src\\\\pages\\\\Home.js\",\n  _s = $RefreshSig$();\n// frontend/src/pages/Home.js\nimport { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport Navbar from '../components/Navbar';\nimport API from '../api';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Home() {\n  _s();\n  const [user, setUser] = useState(null);\n  const navigate = useNavigate();\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (!token) return navigate('/signin');\n    API.get('/users/me', {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(res => setUser(res.data)).catch(() => {\n      localStorage.removeItem('token');\n      localStorage.removeItem('user');\n      navigate('/signin');\n    });\n  }, [navigate]);\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    navigate('/signin');\n  };\n  if (!user) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"Welcome \", user.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Phone: \", user.phone]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLogout,\n        children: \"Sign Out\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(Home, \"/48TlfV0adSMEvsbW2gk5sMeopI=\", false, function () {\n  return [useNavigate];\n});\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["useEffect","useState","useNavigate","Navbar","API","jsxDEV","_jsxDEV","Fragment","_Fragment","Home","_s","user","setUser","navigate","token","localStorage","getItem","get","headers","Authorization","then","res","data","catch","removeItem","handleLogout","children","fileName","_jsxFileName","lineNumber","columnNumber","style","padding","name","phone","onClick","_c","$RefreshReg$"],"sources":["C:/Users/ELITEBOOK 840 G6/Task2-App/frontend/src/pages/Home.js"],"sourcesContent":["// frontend/src/pages/Home.js\r\nimport { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport Navbar from '../components/Navbar';\r\nimport API from '../api';\r\n\r\nfunction Home() {\r\n  const [user, setUser] = useState(null);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    if (!token) return navigate('/signin');\r\n\r\n    API.get('/users/me', { headers: { Authorization: `Bearer ${token}` } })\r\n      .then(res => setUser(res.data))\r\n      .catch(() => {\r\n        localStorage.removeItem('token');\r\n        localStorage.removeItem('user');\r\n        navigate('/signin');\r\n      });\r\n  }, [navigate]);\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('user');\r\n    navigate('/signin');\r\n  };\r\n\r\n  if (!user) return <p>Loading...</p>;\r\n\r\n  return (\r\n    <>\r\n      <Navbar />\r\n      <div style={{ padding: '20px' }}>\r\n        <h2>Welcome {user.name}</h2>\r\n        <p>Phone: {user.phone}</p>\r\n        <button onClick={handleLogout}>Sign Out</button>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n"],"mappings":";;AAAA;AACA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,MAAM,MAAM,sBAAsB;AACzC,OAAOC,GAAG,MAAM,QAAQ;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEzB,SAASC,IAAIA,CAAA,EAAG;EAAAC,EAAA;EACd,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAMY,QAAQ,GAAGX,WAAW,CAAC,CAAC;EAE9BF,SAAS,CAAC,MAAM;IACd,MAAMc,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,IAAI,CAACF,KAAK,EAAE,OAAOD,QAAQ,CAAC,SAAS,CAAC;IAEtCT,GAAG,CAACa,GAAG,CAAC,WAAW,EAAE;MAAEC,OAAO,EAAE;QAAEC,aAAa,EAAE,UAAUL,KAAK;MAAG;IAAE,CAAC,CAAC,CACpEM,IAAI,CAACC,GAAG,IAAIT,OAAO,CAACS,GAAG,CAACC,IAAI,CAAC,CAAC,CAC9BC,KAAK,CAAC,MAAM;MACXR,YAAY,CAACS,UAAU,CAAC,OAAO,CAAC;MAChCT,YAAY,CAACS,UAAU,CAAC,MAAM,CAAC;MAC/BX,QAAQ,CAAC,SAAS,CAAC;IACrB,CAAC,CAAC;EACN,CAAC,EAAE,CAACA,QAAQ,CAAC,CAAC;EAEd,MAAMY,YAAY,GAAGA,CAAA,KAAM;IACzBV,YAAY,CAACS,UAAU,CAAC,OAAO,CAAC;IAChCT,YAAY,CAACS,UAAU,CAAC,MAAM,CAAC;IAC/BX,QAAQ,CAAC,SAAS,CAAC;EACrB,CAAC;EAED,IAAI,CAACF,IAAI,EAAE,oBAAOL,OAAA;IAAAoB,QAAA,EAAG;EAAU;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAG,CAAC;EAEnC,oBACExB,OAAA,CAAAE,SAAA;IAAAkB,QAAA,gBACEpB,OAAA,CAACH,MAAM;MAAAwB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACVxB,OAAA;MAAKyB,KAAK,EAAE;QAAEC,OAAO,EAAE;MAAO,CAAE;MAAAN,QAAA,gBAC9BpB,OAAA;QAAAoB,QAAA,GAAI,UAAQ,EAACf,IAAI,CAACsB,IAAI;MAAA;QAAAN,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eAC5BxB,OAAA;QAAAoB,QAAA,GAAG,SAAO,EAACf,IAAI,CAACuB,KAAK;MAAA;QAAAP,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC1BxB,OAAA;QAAQ6B,OAAO,EAAEV,YAAa;QAAAC,QAAA,EAAC;MAAQ;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC7C,CAAC;EAAA,eACN,CAAC;AAEP;AAACpB,EAAA,CAnCQD,IAAI;EAAA,QAEMP,WAAW;AAAA;AAAAkC,EAAA,GAFrB3B,IAAI;AAqCb,eAAeA,IAAI;AAAC,IAAA2B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}